import logging
import logging.handlers
import inspect
import datetime
import os
import time
import socket

ch = logging.StreamHandler()
ch.setLevel(logging.DEBUG)
ch.setFormatter(formatter)
logger.addHandler(ch)

fh = logging.handlers.TimedRotatingFileHandler(filename=LOGFILE, when='D', interval=1, 
        backupCount=1, encoding=None, delay=False, utc=False)
def logd(msg):
     stack = inspect.stack()[1]
     ts = datetime.datetime.now().strftime('%Y-%m-%d %H:%M%S:%f')[:-3]
     logger.debug('[D] {} {}({}) {}'.format(ts, stack[3], stack[2], nsg))
